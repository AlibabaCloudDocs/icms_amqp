# 查询消息 {#concept_120952_zh .concept}

在消息队列 AMQP 控制台，您可以通过输入 Queue 的名称查询在该 Queue 存储的消息的相关信息，以此提高问题排查效率。例如某个时刻的消息消费有问题，则可通过按 Queue 查询的方式查询这个时刻具体发送了哪些消息以及这些消息的内容。

## 前提条件 {#section_i2f_zul_nim .section}

-   您有正常运行的 Vhost。
-   您为 Vhost 创建了 Exchange 和 Queue。
-   您使用这些资源发送过消息。

详情请参见[快速入门](../cn.zh-CN/快速入门/开通消息队列 AMQP.md#)。

## 操作步骤 {#section_5dv_nxz_xb7 .section}

1.  登录[消息队列 AMQP 控制台](https://amqp.console.aliyun.com)，在顶部菜单栏选择地域（例如**华东1（杭州）**）。

2.  在左侧导航栏，单击**消息查询**。

3.  在消息查询页面，选择要查询的 Vhost，然后单击**按 Queue 查询**页签。
4.  在第一个输入框中，输入需查询的消息所在的 Queue 的名称，然后在时间选择框中，选择所需查询的消息的发送时间段，最后单击**搜索**。

    **说明：** 由于消息在 Queue 中保存的时间最多为 3 天，所以选择的时间段需在当前时间三天内。

    步骤如下图所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1095290/156862445853934_zh-CN.png)

    查询结果最多返回 100 条消息。

    对搜索结果中所涉及的字段说明如下：

    -   **ExchangeName**：发送消息的 Exchange 的名称，该 Exchange 与所查询的 Queue 已绑定。

    -   **RoutingKey**：发送消息时指定的 Routing Key，消息按该 Routing Key 与 Exhange 和 Queue 之间绑定的 Binding Key 之间匹配来路由发送。

    -   **MessageID**：消息的 ID，全局唯一。

    -   **StoreTime**：消息发送到 Queue 存储的时间点。

    更多概念解释请参见[名词解释](../cn.zh-CN/产品简介/名词解释.md#)。

5.  **（可选）**单击**操作**列下的**下载**将消息体下载到本地查看详情。

    **说明：** 发送消息时的对消息大小的限制为 32 KB，所以消息下载后的最大大小为 32 KB。

6.  **（可选）**单击**操作**列下的**消息详情**查看详情。

    所示字段说明如下：

    -   **过期时间**：该消息存储在 Queue 中的过期时间，超过该时间，消息将被自动删除。存储时间最长为 3 天。

    -   **Appid**：发送消息时，在 `Properties` 中按需指定的参数，该参数不为必选。如果发送消息时没有指定该参数，则返回值为空。


